% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spk_q_layer_info.R
\name{spk_q_layer_info}
\alias{spk_q_layer_info}
\title{Extract Layer Information from QGIS Project}
\usage{
spk_q_layer_info(path, attrs = c("id", "name", "source", "providerKey"))
}
\arguments{
\item{path}{\link{character} A single file path to a QGIS project file. Must end with \code{.qgs} or \code{.qgz}.}

\item{attrs}{\link{character} Optional. A character vector of XML attribute names to extract from each layer node. Defaults to \code{c("id", "name", "source", "providerKey")}.}
}
\value{
A \link[tibble:tibble]{tibble::tibble} with one row per layer, including extracted attributes, plus computed \code{layer_name} and \code{time_exported}, sorted alphabetically by \code{name}.
}
\description{
Reads a QGIS project file (\code{.qgs} or \code{.qgz}) and extracts layer metadata, including menu name, provider, data source, and layer name.
}
\details{
If the input is a \code{.qgz} file, it will be unzipped to extract the internal \code{project.qgs}. The function then parses the XML structure of the project to extract layer information from \verb{<layer-tree-layer>} nodes.

Returned columns include:
\itemize{
\item \code{name_menu}: layer name as displayed in the QGIS menu
\item \code{provider}: data provider key (e.g., \code{ogr}, \code{gdal})
\item \code{source}: absolute or relative path to the data source
\item \code{layer_name}: the internal layer name string
\item \code{id}: QGIS-assigned layer id
\item \code{time_exported}: timestamp in format \verb{yyyymmdd hh::mm} when the function was run
}
}
\examples{
\dontrun{
res <- spk_q_layer_info(
  "~/Projects/gis/ng_koot_west_2023/ng_koot_west_2023.qgs",
  attrs = c("id", "name", "source", "providerKey")
)
}

}
\concept{qgis}
